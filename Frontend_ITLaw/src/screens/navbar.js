import React from 'react'
import '../App.css';
import FacebookLogin from 'react-facebook-login';
import axios from 'axios';
import { Link } from "react-router-dom";







const Navbar = () =>{

    const responseFacebook = res =>{
        console.log('data', res)
        localStorage.setItem('token', res.accessToken)
        console.log('navbartoken', localStorage.getItem('token'))
        const data = {
            'iduser' :res.accessToken,
            'name' : res.name,
            'imageuser' : res.picture.data.url
        }
        axios.post('https://serveritlaw.herokuapp.com/users/add ', data)
        .then((res) => {
            console.log('passsssssssss')
            window.location.reload()
        })
        .catch((er) =>  {
           
            console.log('not pass')
        })
    }

    return(
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark p-3">
            <div class="container">
            <Link to="/" class="nav-link">
                        <p class="h5 mt-2">ITLaw</p>
            </Link>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                <Link to="/" class="nav-link">
                        <p class="h5 mt-2">Home</p>
                </Link>
                </li>
                <li class="nav-item">
                    <Link to="/Renderboard" class="nav-link">
                        <p class="h5 mt-2">Renderboard</p>
                    </Link>
                </li>
                <li class="nav-item">
                    
                    <FacebookLogin
                        appId="2702674693321664"
                        autoLoad={false}
                        fields="name,email,picture.width(480).height(480)"
                        callback={responseFacebook}
                        size='medium'
                    />
                </li>
                </ul>
            </div>
            </div>
        </nav>
    )
}

export default Navbar