import React, {useState, useEffect} from 'react'
import '../App.css';
import axios from 'axios';






const Renderboard = () =>{
    const [datauser, setDatauser] = useState([])

    const renderdata = () =>{
        return datauser.map((data) => {
            return(
                <div style={{marginTop: '10%'}}>
                    <div className='row'>
                        <div className='col-md-12'>
                            <img src={data.imageuser} className='positionimage'/>
                        </div>
                        <p style={{textAlign: 'center'}}>{data.name}</p>
                    </div>
                </div>
            )
        })
    }

    const getDatauser = () =>{
        const token = localStorage.getItem('token')
        axios.get('https://serveritlaw.herokuapp.com/users/')
        .then((res) => {
            res.data.map((data) =>{
                console.log(data.iduser)
                if(data.iduser === token){
                    setDatauser(res.data)
                }else{
                    console.log('token', token, data.iduser)
                    console.log('not pass')
                }
            })
        })
        .catch((er) => console.log(er.message))
    } 
    useEffect(() =>{
        getDatauser()
    }, [])

    

    return(
        <div>
            {renderdata()}
        </div>
    )
}

export default Renderboard